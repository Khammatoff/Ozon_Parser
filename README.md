# Ozon Seller Parser

–ü–∞—Ä—Å–µ—Ä –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ Ozon —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Selenium, Docker –∏ RabbitMQ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## üéØ –¶–µ–ª—å

–°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ 30,000 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ Ozon –ø—É—Ç–µ–º –ø–µ—Ä–µ–±–æ—Ä–∞ ID –æ—Ç 1 –¥–æ 30,000.

## üìä –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–±–æ—Ä–∞

- URL –ø—Ä–æ–¥–∞–≤—Ü–∞
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞
- HTML –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û–ì–†–ù
- –ò–ù–ù
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ (–ò–ü/–û–û–û)
- –í–µ–±-—Å–∞–π—Ç
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤
- –†–µ–π—Ç–∏–Ω–≥
- –°—Ä–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤
- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Queue Setup ‚îÇ -> ‚îÇ RabbitMQ ‚îÇ -> ‚îÇ Parsers ‚îÇ
‚îÇ (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ) ‚îÇ ‚îÇ (–æ—á–µ—Ä–µ–¥—å) ‚îÇ ‚îÇ (–º–Ω–æ–≥–æ–ü–æ—Ç–æ—á–Ω–æ)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ
‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ CSV File ‚îÇ
‚îÇ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

text

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
git clone <repository-url>
cd ozon-parser
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env:

env
RABBITMQ_USER=admin
RABBITMQ_PASS=admin123
TOTAL_SELLERS=10
USE_PROXIES=false
PROXY_ROTATION_COUNT=10
# PROXY_LIST=proxy1:port,proxy2:port,proxy3:port
3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ (10 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)
bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker-compose up --build --scale parser=3
4. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ (30,000 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)
bash
# –ò–∑–º–µ–Ω–∏—Ç–µ TOTAL_SELLERS –≤ .env –Ω–∞ 30000
docker-compose down
docker-compose up --build --scale parser=5
‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é	–û–ø–∏—Å–∞–Ω–∏–µ
RABBITMQ_USER	admin	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å RabbitMQ
RABBITMQ_PASS	admin123	–ü–∞—Ä–æ–ª—å RabbitMQ
TOTAL_SELLERS	10	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
USE_PROXIES	false	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
PROXY_ROTATION_COUNT	10	–°–º–µ–Ω–∞ –ø—Ä–æ–∫—Å–∏ –ø–æ—Å–ª–µ N –∑–∞–ø—Ä–æ—Å–æ–≤
PROXY_LIST	-	–°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–æ–≤
bash
# 3 –ø–∞—Ä—Å–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∞)
docker-compose up --scale parser=3

# 5 –ø–∞—Ä—Å–µ—Ä–æ–≤ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
docker-compose up --scale parser=5

# 10 –ø–∞—Ä—Å–µ—Ä–æ–≤ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
docker-compose up --scale parser=10
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
ozon-parser/
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile             # –û–±—Ä–∞–∑ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ parser.py             # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
‚îú‚îÄ‚îÄ queue_setup.py        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä –æ—á–µ—Ä–µ–¥–∏
‚îú‚îÄ‚îÄ data/                 # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ sellers.csv       # –§–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ logs/                 # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ parser.log        # –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
üõ°Ô∏è Anti-Detection
Selenium Stealth —Ä–µ–∂–∏–º

–°–ª—É—á–∞–π–Ω—ã–µ User-Agent

–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ Chrome –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (4-6 —Å–µ–∫—É–Ω–¥)

–†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)

üîÑ –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ RabbitMQ

–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞

Durable –æ—á–µ—Ä–µ–¥–∏ RabbitMQ

üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ RabbitMQ

–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–∞—Ä—Å–µ—Ä–æ–≤

–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É –≤–æ—Ä–∫–µ—Ä–∞–º–∏

üé™ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
Queue Setup
–ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ—á–µ—Ä–µ–¥—å RabbitMQ ID –ø—Ä–æ–¥–∞–≤—Ü–æ–≤

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã

–°–æ–∑–¥–∞–µ—Ç durable –æ—á–µ—Ä–µ–¥—å –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

Parser
–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ RabbitMQ

–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ Chrome –ø—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

RabbitMQ
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π message broker

–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: http://localhost:15672

üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
RabbitMQ Management
bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:15672
# –õ–æ–≥–∏–Ω: admin
# –ü–∞—Ä–æ–ª—å: admin123
–õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –õ–æ–≥–∏ —Ç–æ–ª—å–∫–æ –ø–∞—Ä—Å–µ—Ä–æ–≤
docker-compose logs -f parser

# –õ–æ–≥–∏ RabbitMQ
docker-compose logs -f rabbitmq
üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
–ö–æ–Ω—Ñ–ª–∏–∫—Ç user-data-dir

bash
# –†–µ—à–µ–Ω–∏–µ: –û—á–∏—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose down
docker-compose up --build
–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Ozon

bash
# –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ –≤ .env
USE_PROXIES=true
PROXY_LIST=proxy1:port,proxy2:port
–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ RabbitMQ

bash
# –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ healthcheck
docker-compose ps
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
bash
# –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä—Å–µ—Ä–æ–≤
docker-compose up --scale parser=10

# –£–º–µ–Ω—å—à–∏—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
# –í parser.py –∏–∑–º–µ–Ω–∏—Ç–µ time.sleep(random.uniform(2, 4))
üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/sellers.csv –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞. –§–æ—Ä–º–∞—Ç CSV —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8 –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.

üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ Chrome —Å–µ—Å—Å–∏–∏

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö